-# coding: utf-8

.l-container-wide
  .l-content
    %section.results
      %header.results-header
        %h1= t("#{project.class.name.underscore.pluralize}.show.heading")

      %section.result-list
        %header.result-list-header
          %h2.divider= t("#{project.class.name.underscore.pluralize}.show.service_offerings")


        - if @service_offerings.any?
          - @service_offerings.each do |service_offering|
            .result
              = link_to(send("#{project.class.name.underscore}_service_offering_path", project, service_offering)) do
                %article.result-card
                  %header.result-header
                    %h3= service_offering.title

                    %p
                      = t("activerecord.attributes.#{project.class.name.underscore}.updated_at") + ' :'
                      %time{ datetime: l(service_offering.updated_at.to_date, format: :html5) }
                        = l(service_offering.updated_at.to_date)

                  %section.result-content
                    %p= truncate(service_offering.description, length: 200)

                  %footer.result-footer
                    = link_to t("#{project.class.name.underscore.pluralize}.show.discover"),
                              send("#{project.class.name.underscore}_service_offering_path", project, service_offering),
                              class: 'btn btn-new'
        - else
          %h3.text-center
            %br
            La machine n'as pas pu trouver des résultats, mais nous travaillons dans ce moment pour l'améliorer.
            %br
            %br
            = image_tag('machine.png')
            %br
            = mail_to(ENV['CONTACT_EMAIL'], "Clique ici,")
            un humain est à ta disposition pour t'aider.
